<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ccic.salesapp.noncar.repository.basedb.mapper.StoreFSInsuredInfoMapper">
	<resultMap type="com.ccic.salesapp.noncar.dto.Store4sInfoVO" id="BaseResultMap">
		<result column="ID"    property="id" />
		<result column="STOREFS_NAME"    property="store4sName" />
		<result column="CODE_TYPE"    property="codeType" />
		<result column="IDENTIFICATION_CODE"    property="identificationCode" />
		<result column="ADDRESS"    property="address" />
		<result column="MOBILE_NUMBER"    property="mobileNumber" />
		<result column="EMAIL"    property="email" />
		<result column="PROVINCES"    property="provinces" />
		<result column="PROVINCECODE"    property="provinceCode" />
		<result column="CITYCODE"    property="cityCode" />
		<result column="AREACODE"    property="areaCode" />

	</resultMap>
	<select id="select4sStoreInfoList" resultMap="BaseResultMap" parameterType="java.lang.String">
  	select * from t_app_s_store_insuredlist where state='1' order by id
  </select>

	<select id="check4sStorepwd" resultMap="BaseResultMap" parameterType="com.ccic.salesapp.noncar.dto.Store4sInfoVO">
  	select * from t_app_s_store_insuredlist where
  		ID = #id# and MOBILE_NUMBER = #mobileNumber# and PASS_WORD = #passWord# and STATE = '1'
  </select>

	<select id="query4sStoreById" resultMap="BaseResultMap" parameterType="java.lang.String">
  	select * from t_app_s_store_insuredlist where ID = #id# and STATE = '1'
  </select>

	<insert id="add4sStoreToken"  parameterType="com.ccic.salesapp.noncar.dto.Store4sInfoVO">
  	insert into t_app_s_store_token (ID,TOKENFSSTORECODE,TOKEN,CREATE_DATE) values (S_APP_S_FSSTORETOKEN_ID.NEXTVAL,#token4sStoreCode#,#token#,SYSDATE)
  </insert>

	<resultMap type="com.ccic.salesapp.noncar.dto.Store4sInfoVO" id="Store4sTokenInfo">
		<result column="ID"    property="id" />
		<result column="TOKEN"    property="token" />
		<result column="TOKENFSSTORECODE"    property="token4sStoreCode" />
	</resultMap>
	<select id="query4sStoreToken" resultMap="Store4sTokenInfo"  parameterType="com.ccic.salesapp.noncar.dto.Store4sInfoVO">
   select * from t_app_s_store_token where TOKEN = #token# and TOKENFSSTORECODE = #token4sStoreCode#
  </select>
</mapper>
