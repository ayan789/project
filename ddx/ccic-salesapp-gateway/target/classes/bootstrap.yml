server:
  tomcat:
    basedir: ./temp/${spring.application.name}
  port: ${SERVER_PORT}

eureka:
  instance:
      prefer-ip-address: true
      instance-id: ${spring.application.name}:${server.port}
      lease-expiration-duration-in-seconds: 30
      lease-renewal-interval-in-seconds: 10
  client:
    fetch-registry: true
    registry-fetch-interval-seconds: 5
    register-with-eureka: true
    service-url:
      defaultZone: ${EUREKA_SERVER_URL}
hystrix:
  command:
    fallbackcmd:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: ${TIMEOUT.IN.MILLISECONDS}
          strategy: SEMAPHORE
          semaphore:
            maxConcurrentRequests: 1000
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: ${TIMEOUT.IN.MILLISECONDS}
          strategy: SEMAPHORE
          semaphore:
            maxConcurrentRequests: 1000
ribbon:
  ConnectTimeout: ${TIMEOUT.IN.MILLISECONDS}
  ReadTimeout: ${TIMEOUT.IN.MILLISECONDS}
  OkToRetryOnAllOperations: false
  MaxAutoRetriesNextServer: 0
  MaxAutoRetries: 0
spring:
  profiles:
    active: dev
  servlet:
      multipart:
        max-request-size: 20MB
        max-file-size: 10MB
  thymeleaf:
    cache: false
    check-template-location: false
  freemarker:
    check-template-location: false
  main:
    allow-bean-definition-overriding: true
  application:
    name: CCIC-SALESAPP-GATEWAY
  cloud:
     gateway:
       discovery:
         locator:
           enabled: true
           lower-case-service-id: true
       routes:
         - id: CCIC-SALESAPP-PERFORMANCE
           uri: lb://CCIC-SALESAPP-PERFORMANCE
           predicates:
           - Path= /api/csp/**
           filters:
           - StripPrefix= 2

         - id: CCIC-SALESAPP-NONCAR
           uri: lb://CCIC-SALESAPP-NONCAR
           predicates:
           - Path= /api/csn/**
           filters:
           - StripPrefix= 2

sonic:
  platform:
    gateway:
      services:
        CCIC-SALESAPP-PERFORMANCE: 业绩服务
        CCIC-SALESAPP-NONCAR: 非车服务