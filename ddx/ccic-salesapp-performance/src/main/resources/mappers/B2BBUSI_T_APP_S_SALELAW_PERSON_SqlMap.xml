<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ccic.salesapp.performance.domain.mapper.B2BBUSI_T_APP_S_SALELAW_PERSON_Mapper" >
  <resultMap id="BaseResultMap" type="com.ccic.salesapp.performance.domain.vo.dto.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="USERCODE" property="usercode" jdbcType="VARCHAR" />
    <result column="USERNAME" property="username" jdbcType="VARCHAR" />
    <result column="COMCODE" property="comcode" jdbcType="VARCHAR" />
    <result column="COMCANME" property="comcanme" jdbcType="VARCHAR" />
    <result column="CHANNELCODE" property="channelcode" jdbcType="VARCHAR" />
    <result column="CHANNELNAME" property="channelname" jdbcType="VARCHAR" />
    <result column="TEAMCODE" property="teamcode" jdbcType="VARCHAR" />
    <result column="TEAMCNAME" property="teamcname" jdbcType="VARCHAR" />
    <result column="PERSONTYPEID" property="persontypeid" jdbcType="VARCHAR" />
    <result column="PERSONTYPENAME" property="persontypename" jdbcType="VARCHAR" />
    <result column="DUTYID" property="dutyid" jdbcType="VARCHAR" />
    <result column="DUTYNAME" property="dutyname" jdbcType="VARCHAR" />
    <result column="RANKCODE" property="rankcode" jdbcType="VARCHAR" />
    <result column="RANKNAME" property="rankname" jdbcType="VARCHAR" />
    <result column="ABTYPE" property="abtype" jdbcType="VARCHAR" />
    <result column="UPDATEDATE" property="updatedate" jdbcType="TIMESTAMP" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    USERCODE, USERNAME, COMCODE, COMCANME, CHANNELCODE, CHANNELNAME, TEAMCODE, TEAMCNAME, 
    PERSONTYPEID, PERSONTYPENAME, DUTYID, DUTYNAME, RANKCODE, RANKNAME, ABTYPE, UPDATEDATE
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.estar.app.chinare.sell.domain.b2b.model.b2bbusi.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="B2BBUSI_T_APP_S_SALELAW_PERSON.Base_Column_List" />
    from B2BBUSI.T_APP_S_SALELAW_PERSON
    where USERCODE = #usercode:VARCHAR#
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.estar.app.chinare.sell.domain.b2b.model.b2bbusi.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from B2BBUSI.T_APP_S_SALELAW_PERSON
    where USERCODE = #usercode:VARCHAR#
  </delete>
  <insert id="insert" parameterType="com.estar.app.chinare.sell.domain.b2b.model.b2bbusi.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into B2BBUSI.T_APP_S_SALELAW_PERSON (USERCODE, USERNAME, COMCODE, COMCANME, 
      CHANNELCODE, CHANNELNAME, TEAMCODE, TEAMCNAME, 
      PERSONTYPEID, PERSONTYPENAME, DUTYID, DUTYNAME, 
      RANKCODE, RANKNAME, ABTYPE, UPDATEDATE)
    values (#usercode:VARCHAR#, #username:VARCHAR#, #comcode:VARCHAR#, #comcanme:VARCHAR#, 
      #channelcode:VARCHAR#, #channelname:VARCHAR#, #teamcode:VARCHAR#, #teamcname:VARCHAR#, 
      #persontypeid:VARCHAR#, #persontypename:VARCHAR#, #dutyid:VARCHAR#, #dutyname:VARCHAR#, 
      #rankcode:VARCHAR#, #rankname:VARCHAR#, #abtype:VARCHAR#, #updatedate:TIMESTAMP#)
  </insert>
  <insert id="insertSelective" parameterType="com.estar.app.chinare.sell.domain.b2b.model.b2bbusi.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into B2BBUSI.T_APP_S_SALELAW_PERSON
    <dynamic prepend="(" >
      <isNotNull prepend="," property="usercode" >
        USERCODE
      </isNotNull>
      <isNotNull prepend="," property="username" >
        USERNAME
      </isNotNull>
      <isNotNull prepend="," property="comcode" >
        COMCODE
      </isNotNull>
      <isNotNull prepend="," property="comcanme" >
        COMCANME
      </isNotNull>
      <isNotNull prepend="," property="channelcode" >
        CHANNELCODE
      </isNotNull>
      <isNotNull prepend="," property="channelname" >
        CHANNELNAME
      </isNotNull>
      <isNotNull prepend="," property="teamcode" >
        TEAMCODE
      </isNotNull>
      <isNotNull prepend="," property="teamcname" >
        TEAMCNAME
      </isNotNull>
      <isNotNull prepend="," property="persontypeid" >
        PERSONTYPEID
      </isNotNull>
      <isNotNull prepend="," property="persontypename" >
        PERSONTYPENAME
      </isNotNull>
      <isNotNull prepend="," property="dutyid" >
        DUTYID
      </isNotNull>
      <isNotNull prepend="," property="dutyname" >
        DUTYNAME
      </isNotNull>
      <isNotNull prepend="," property="rankcode" >
        RANKCODE
      </isNotNull>
      <isNotNull prepend="," property="rankname" >
        RANKNAME
      </isNotNull>
      <isNotNull prepend="," property="abtype" >
        ABTYPE
      </isNotNull>
      <isNotNull prepend="," property="updatedate" >
        UPDATEDATE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="usercode" >
        #usercode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="username" >
        #username:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comcode" >
        #comcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comcanme" >
        #comcanme:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="channelcode" >
        #channelcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="channelname" >
        #channelname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="teamcode" >
        #teamcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="teamcname" >
        #teamcname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="persontypeid" >
        #persontypeid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="persontypename" >
        #persontypename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dutyid" >
        #dutyid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dutyname" >
        #dutyname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rankcode" >
        #rankcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rankname" >
        #rankname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="abtype" >
        #abtype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updatedate" >
        #updatedate:TIMESTAMP#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterClass="com.estar.app.chinare.sell.domain.b2b.model.b2bbusi.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update B2BBUSI.T_APP_S_SALELAW_PERSON
    <dynamic prepend="set" >
      <isNotNull prepend="," property="username" >
        USERNAME = #username:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comcode" >
        COMCODE = #comcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comcanme" >
        COMCANME = #comcanme:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="channelcode" >
        CHANNELCODE = #channelcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="channelname" >
        CHANNELNAME = #channelname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="teamcode" >
        TEAMCODE = #teamcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="teamcname" >
        TEAMCNAME = #teamcname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="persontypeid" >
        PERSONTYPEID = #persontypeid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="persontypename" >
        PERSONTYPENAME = #persontypename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dutyid" >
        DUTYID = #dutyid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dutyname" >
        DUTYNAME = #dutyname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rankcode" >
        RANKCODE = #rankcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rankname" >
        RANKNAME = #rankname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="abtype" >
        ABTYPE = #abtype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updatedate" >
        UPDATEDATE = #updatedate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where USERCODE = #usercode:VARCHAR#
  </update>
  <update id="updateByPrimaryKey" parameterType="com.estar.app.chinare.sell.domain.b2b.model.b2bbusi.SalelawPerson" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update B2BBUSI.T_APP_S_SALELAW_PERSON
    set USERNAME = #username:VARCHAR#,
      COMCODE = #comcode:VARCHAR#,
      COMCANME = #comcanme:VARCHAR#,
      CHANNELCODE = #channelcode:VARCHAR#,
      CHANNELNAME = #channelname:VARCHAR#,
      TEAMCODE = #teamcode:VARCHAR#,
      TEAMCNAME = #teamcname:VARCHAR#,
      PERSONTYPEID = #persontypeid:VARCHAR#,
      PERSONTYPENAME = #persontypename:VARCHAR#,
      DUTYID = #dutyid:VARCHAR#,
      DUTYNAME = #dutyname:VARCHAR#,
      RANKCODE = #rankcode:VARCHAR#,
      RANKNAME = #rankname:VARCHAR#,
      ABTYPE = #abtype:VARCHAR#,
      UPDATEDATE = #updatedate:TIMESTAMP#
    where USERCODE = #usercode:VARCHAR#
  </update>
  
  <select id="selectByUserCode" parameterType="java.lang.String" resultMap="BaseResultMap">
    SELECT *
    FROM B2BBUSI.T_APP_S_SALELAW_PERSON
    WHERE USERCODE = #userCode:VARCHAR#
  </select>
  
  <select id="selectRenewalRateByUserCode" parameterType="java.lang.String" resultType="java.lang.Double">
  	SELECT * FROM (
      SELECT DECODE(TPRR.BASI_COUNT,0,0.7,ROUND(TPRR.RENE_COUNT/TPRR.BASI_COUNT,4)) 
      FROM B2BBUSI.T_PERS_RENE_RATE TPRR 
      WHERE TPRR.PROF_FLAG = '1'
      AND TPRR.USERCODE = #userCode:VARCHAR#
      ORDER BY TPRR.END_DATE DESC)
    WHERE ROWNUM=1
  </select>
  
  <select id="selectByTeamCode" parameterType="java.lang.String" resultMap="BaseResultMap">
    SELECT *
    FROM B2BBUSI.T_APP_S_SALELAW_PERSON
    WHERE TEAMCODE = #teamCode:VARCHAR#
  </select>
  
</mapper>